<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercise 9j</title>
</head>
<body>

  <p class="js-display-calculation"></p>

  <p>
    <button onclick="
      updateCalculation('1');
    ">
      1
    </button>
    <button onclick="
      updateCalculation('2');
    ">
      2
    </button>
    <button onclick="
      updateCalculation('3');
    ">
      3
    </button>
  </p>

  <p>
    <button onclick="
      updateCalculation('4');
    ">
      4
    </button>

    <button onclick="
      updateCalculation('5');
    ">
      5
    </button>
    <button onclick="
      updateCalculation('6');
    ">
      6
    </button>
  </p>

  <p>
    <button onclick="
      updateCalculation('7');
    ">
      7
    </button>

    <button onclick="
      updateCalculation('8');
    ">
      8
    </button>
    <button onclick="
      updateCalculation('9');
    ">
      9
    </button>
  </p>


  <button onclick="
    updateCalculation('+');
  ">
    +
  </button>

  <button onclick="
    updateCalculation('0')
  ">
    0
  </button>

  <button onclick="
    updateCalculation('=');
  ">
    =
  </button>

  <script>
    const savedCalculation = localStorage.getItem('calculation');
    savedCalculation ? calculation = savedCalculation : calculation = '';
    function updateCalculation(command){
      if(command  === '+'){
        calculation += ' + ';
        localStorage.setItem('calculation', calculation);
      }else if(command === '='){
        const result = eval(calculation);
        calculation += ' = ';
        calculation += result;
        displayCalculation();
        calculation = '';
        localStorage.setItem('calculation', calculation);
        return;
      }else{
        calculation += command;
        localStorage.setItem('calculation', calculation);
      }
      displayCalculation();
    }

    function displayCalculation(){
      const displayCalculationElement = document.querySelector('.js-display-calculation');
      displayCalculationElement.innerText = calculation;
    }
  </script>
</body>
</html>